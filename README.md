# My NPM Package - The Node Forge Template

Welcome to **My NPM Package**! This repository serves as a **template** for The Node
Forge members to quickly scaffold a new **TypeScript-based NPM package** with
built-in **linting, testing, documentation, and CI/CD**.

---

## ✨ Getting Started

To use this template, follow these steps:

1. **Clone this repository** or create a new one from this template.
2. **Update necessary details in `package.json`**:
   - `"name"` → Change to your package name.
   - `"version"` → Set your initial version (`1.0.0`).
   - `"author"` → Add your name.
   - `"repository"` → Update the GitHub URL (if not autogenerated).
3. **Install dependencies**:
   ```sh
   npm install
   ```
4. **Start development**:
   ```sh
   npm run build
   ```

---

## 📜 Available Scripts

The `package.json` includes several useful scripts:

| Script                  | Description                                 |
| ----------------------- | ------------------------------------------- |
| `npm run test`          | Runs Jest tests.                            |
| `npm run test:watch`    | Runs Jest in watch mode.                    |
| `npm run test:coverage` | Runs Jest with coverage report.             |
| `npm run format`        | Formats the code using Prettier.            |
| `npm run format:check`  | Checks if code follows Prettier formatting. |
| `npm run lint`          | Runs ESLint to check for issues.            |
| `npm run lint:fix`      | Automatically fixes lint issues.            |
| `npm run build`         | Compiles TypeScript code to JavaScript.     |
| `npm run docs:build`    | Builds documentation using Docusaurus.      |
| `npm run docs:start`    | Runs Docusaurus locally for preview.        |
| `npm run docs:clean`    | Cleans and rebuilds documentation.          |
| `npm run docs:deploy`   | Deploys docs to GitHub Pages.               |

---

## 📘 Documentation with Docusaurus

This repository uses **Docusaurus** to generate project documentation. Documentation
lives in the `docs/docs/` folder.

### 🔍 Where to Edit Documentation

- 📂 **`docs/docs/`** → Main documentation files.
- 📂 **`docs/docs/api/`** → **Autogenerated API documentation** from JSDoc comments.
- 📂 **`docs/docs/guides/`** → Guides written in Markdown.
- 📂 **`docs/src/components/HomepageFeatures/index.tsx`** → Edit Documentation
  Splashpage.

### 🛠️ Building & Running Documentation

To generate and preview documentation:

```sh
npm run docs:build   # Build the docs
npm run docs:start   # Run the docs locally
```

- Open **`http://localhost:3000/`** to view the site.

To deploy to GitHub Pages:

```sh
npm run docs:deploy
```

### ✏️ Customizing Documentation

- **Logo & Branding** → Update images in `docs/static/img/`.
- **Navigation & Sidebar** → Modify `docs/sidebars.ts`.
- **Docusaurus Config** → Edit `docs/docusaurus.config.ts`.

---

## 🛠️ Auto-Generating API Documentation

This repository uses **JSDoc** to document code and generate API references
automatically.

### 🔍 How Auto Documentation Works

- 📂 **`docs/docs/api/`** → Contains autogenerated documentation.
- **JSDoc comments** inside TypeScript files provide function and class
  documentation.
- **Docusaurus and TypeDoc** process these comments into readable documentation.

### ✅ Example JSDoc Comment

```ts
/**
 * Generates a unique package identifier based on package name and version.
 *
 * @param {string} packageName - The name of the NPM package.
 * @param {string} version - The package version (must follow SemVer: MAJOR.MINOR.PATCH).
 * @returns {string} A unique identifier in the format "packageName@version".
 * @throws {Error} Throws an error if the version is not in SemVer format.
 *
 * @example
 * const packageId = generatePackageIdentifier("my-awesome-package", "1.2.3");
 * console.log(packageId); // "my-awesome-package@1.2.3"
 */

export function generatePackageIdentifier(
  packageName: string,
  version: string,
): string {
  const semverRegex = /^\d+\.\d+\.\d+$/;

  if (!semverRegex.test(version)) {
    throw new Error(
      'Invalid version format. Must follow Semantic Versioning: MAJOR.MINOR.PATCH',
    );
  }

  return `${packageName}@${version}`;
}
```

### 🔄 Generating API Documentation

To generate API documentation based on JSDoc comments, run:

```sh
npm run docs:build
```

This will create or update documentation inside `docs/docs/api/`.

To preview the changes, run:

```sh
npm run docs:start
```

---

## 🛠️ Code Quality & Formatting

This template includes **ESLint** and **Prettier** to enforce code quality.

### 🛠️ ESLint Configuration

- Enforces best practices and TypeScript rules.
- Ignores everything in `/docs/` (Docusaurus files).
- Auto-fixes issues using:
  ```sh
  npm run lint:fix
  ```

### 🔧 Prettier Configuration

- Formats the code automatically.
- Enforces consistent spacing, semicolons, and line breaks.

To apply formatting:

```sh
npm run format
```

---

## ⚖️ Continuous Integration (CI)

### 🔄 What CI Does

- **Runs tests automatically** on every `push` or `pull request`.
- **Formats & lints code**, fixing issues before merging.
- **Prevents PRs without tests**.
- **Uploads test coverage results**.

### ⚙️ How CI Works (`.github/workflows/ci.yaml`)

| Step                        | Purpose                               |
| --------------------------- | ------------------------------------- |
| ✅ **Install Dependencies** | Installs required NPM packages.       |
| ✅ **Run Prettier**         | Auto-formats code.                    |
| ✅ **Run ESLint**           | Fixes linting issues.                 |
| ✅ **Check for Tests**      | Ensures PRs include test files.       |
| ✅ **Run Jest Tests**       | Executes all unit tests.              |
| ✅ **Upload Coverage**      | Stores Jest test results.             |
| ✅ **Commit Auto-Fixes**    | Commits any auto-fixes to the branch. |

If you push **broken code**, CI **fails** and prevents merging. 🚨

---

## 🌟 Final Checklist for New Repos

✔ **Update `package.json`**  
✔ **Modify documentation** in `docs/`  
✔ **Run tests before committing** (`npm run test`)  
✔ **Ensure CI passes before merging**

---

## 💡 Need Help?

If you run into any issues, reach out to **The Node Forge team** on GitHub!

Happy coding! 🚀
